{"ast":null,"code":"var _jsxFileName = \"/home/morgan/Documents/CODE/Code test/ecommerceclothings/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport Homepage from \"./screens/homepage/homepage.component\";\nimport ShopPage from \"./screens/shop/shop.component\";\nimport Header from \"./components/header/header.component\";\nimport SignUpAndSignIn from \"./screens/signin-signup/signinsignup\";\nimport { auth, createUserProfileDocument } from \"./firebase/firebase.utils\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null);\n  let unsubscribeFromAuth = null;\n  useEffect(() => {\n    unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          setCurrentUser({\n            id: snapShot.id,\n            ...snapShot.data()\n          });\n        });\n      }\n\n      setCurrentUser(userAuth);\n      return () => {\n        unsubscribeFromAuth();\n      };\n    });\n  }, [!currentUser]);\n  console.log(currentUser);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    currentUser: currentUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Homepage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/shop\",\n    component: ShopPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    component: SignUpAndSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/morgan/Documents/CODE/Code test/ecommerceclothings/src/App.js"],"names":["React","useState","useEffect","Switch","Route","BrowserRouter","Homepage","ShopPage","Header","SignUpAndSignIn","auth","createUserProfileDocument","App","currentUser","setCurrentUser","unsubscribeFromAuth","onAuthStateChanged","userAuth","userRef","onSnapshot","snapShot","id","data","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,aAAxB,QAA6C,kBAA7C;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,uCAArB;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,SAASC,IAAT,EAAeC,yBAAf,QAAgD,2BAAhD;;AAEA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,IAAD,CAA9C;AAEA,MAAIc,mBAAmB,GAAG,IAA1B;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,mBAAmB,GAAGL,IAAI,CAACM,kBAAL,CAAwB,MAAOC,QAAP,IAAoB;AAChE,UAAIA,QAAJ,EAAc;AACZ,cAAMC,OAAO,GAAG,MAAMP,yBAAyB,CAACM,QAAD,CAA/C;AACAC,QAAAA,OAAO,CAACC,UAAR,CAAoBC,QAAD,IAAc;AAC/BN,UAAAA,cAAc,CAAC;AACbO,YAAAA,EAAE,EAAED,QAAQ,CAACC,EADA;AAEb,eAAGD,QAAQ,CAACE,IAAT;AAFU,WAAD,CAAd;AAID,SALD;AAMD;;AACDR,MAAAA,cAAc,CAACG,QAAD,CAAd;AACA,aAAO,MAAM;AACXF,QAAAA,mBAAmB;AACpB,OAFD;AAGD,KAdqB,CAAtB;AAeD,GAhBQ,EAgBN,CAAC,CAACF,WAAF,CAhBM,CAAT;AAiBAU,EAAAA,OAAO,CAACC,GAAR,CAAYX,WAAZ;AAGA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,WAAW,EAAEA,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAEP,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,OAAlB;AAA0B,IAAA,SAAS,EAAEC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,SAAlB;AAA4B,IAAA,SAAS,EAAEE,eAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CAFF,CADF,CADF;AAYD;;AAED,eAAeG,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport Homepage from \"./screens/homepage/homepage.component\";\nimport ShopPage from \"./screens/shop/shop.component\";\nimport Header from \"./components/header/header.component\";\nimport SignUpAndSignIn from \"./screens/signin-signup/signinsignup\";\nimport { auth, createUserProfileDocument } from \"./firebase/firebase.utils\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  let unsubscribeFromAuth = null;\n\n  useEffect(() => {\n    unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot((snapShot) => {\n          setCurrentUser({\n            id: snapShot.id,\n            ...snapShot.data(),\n          });\n        });\n      }\n      setCurrentUser(userAuth);\n      return () => {\n        unsubscribeFromAuth();\n      };\n    });\n  }, [!currentUser]);\n  console.log(currentUser);\n  \n\n  return (\n    <div>\n      <BrowserRouter>\n        <Header currentUser={currentUser} />\n        <Switch>\n          <Route exact path=\"/\" component={Homepage} />\n          <Route exact path=\"/shop\" component={ShopPage} />\n          <Route exact path=\"/signin\" component={SignUpAndSignIn} />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}