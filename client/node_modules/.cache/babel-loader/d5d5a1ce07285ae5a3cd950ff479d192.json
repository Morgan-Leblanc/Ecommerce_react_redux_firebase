{"ast":null,"code":"var _jsxFileName = \"/home/morgan/Documents/CODE/Code test/ecommerceclothings/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport Homepage from \"./screens/homepage/homepage.component\";\nimport ShopPage from \"./screens/shop/shop.component\";\nimport Header from \"./components/header/header.component\";\nimport SignUpAndSignIn from \"./screens/signin-signup/signinsignup\";\nimport { auth, createUserProfileDocument } from \"./firebase/firebase.utils\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const dispatch = useDispatch();\n  let unsubscribeFromAuth = null;\n  useEffect(() => {\n    unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          setCurrentUser({\n            id: snapShot.id,\n            ...snapShot.data()\n          });\n        });\n        dispatch({\n          type: \"SET_CURRENT_USER\",\n          payload: currentUser\n        });\n      }\n\n      setCurrentUser(userAuth);\n      return () => {\n        unsubscribeFromAuth();\n      };\n    });\n  }, []);\n  console.log(currentUser);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Provider, {\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    currentUser: currentUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Homepage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/shop\",\n    component: ShopPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    component: SignUpAndSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/morgan/Documents/CODE/Code test/ecommerceclothings/src/App.js"],"names":["React","useState","useEffect","useDispatch","Switch","Route","BrowserRouter","Homepage","ShopPage","Header","SignUpAndSignIn","auth","createUserProfileDocument","Provider","store","App","currentUser","setCurrentUser","dispatch","unsubscribeFromAuth","onAuthStateChanged","userAuth","userRef","onSnapshot","snapShot","id","data","type","payload","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,aAAxB,QAA6C,kBAA7C;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,uCAArB;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,SAASC,IAAT,EAAeC,yBAAf,QAAgD,2BAAhD;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,KAAP,MAAkB,eAAlB;;AAEA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAMiB,QAAQ,GAAGf,WAAW,EAA5B;AAEA,MAAIgB,mBAAmB,GAAG,IAA1B;AAEAjB,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,mBAAmB,GAAGR,IAAI,CAACS,kBAAL,CAAwB,MAAOC,QAAP,IAAoB;AAChE,UAAIA,QAAJ,EAAc;AACZ,cAAMC,OAAO,GAAG,MAAMV,yBAAyB,CAACS,QAAD,CAA/C;AACAC,QAAAA,OAAO,CAACC,UAAR,CAAoBC,QAAD,IAAc;AAC/BP,UAAAA,cAAc,CAAC;AACbQ,YAAAA,EAAE,EAAED,QAAQ,CAACC,EADA;AAEb,eAAGD,QAAQ,CAACE,IAAT;AAFU,WAAD,CAAd;AAID,SALD;AAMAR,QAAAA,QAAQ,CAAC;AAAES,UAAAA,IAAI,EAAE,kBAAR;AAA4BC,UAAAA,OAAO,EAAEZ;AAArC,SAAD,CAAR;AACD;;AACDC,MAAAA,cAAc,CAACI,QAAD,CAAd;AACA,aAAO,MAAM;AACXF,QAAAA,mBAAmB;AACpB,OAFD;AAGD,KAfqB,CAAtB;AAgBD,GAjBQ,EAiBN,EAjBM,CAAT;AAkBAU,EAAAA,OAAO,CAACC,GAAR,CAAYd,WAAZ;AAEA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEF,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,WAAW,EAAEE,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAET,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,OAAlB;AAA0B,IAAA,SAAS,EAAEC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,SAAlB;AAA4B,IAAA,SAAS,EAAEE,eAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CAFF,CADF,CADF,CADF;AAcD;;AAED,eAAeK,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport Homepage from \"./screens/homepage/homepage.component\";\nimport ShopPage from \"./screens/shop/shop.component\";\nimport Header from \"./components/header/header.component\";\nimport SignUpAndSignIn from \"./screens/signin-signup/signinsignup\";\nimport { auth, createUserProfileDocument } from \"./firebase/firebase.utils\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const dispatch = useDispatch();\n\n  let unsubscribeFromAuth = null;\n\n  useEffect(() => {\n    unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot((snapShot) => {\n          setCurrentUser({\n            id: snapShot.id,\n            ...snapShot.data(),\n          });\n        });\n        dispatch({ type: \"SET_CURRENT_USER\", payload: currentUser });\n      }\n      setCurrentUser(userAuth);\n      return () => {\n        unsubscribeFromAuth();\n      };\n    });\n  }, []);\n  console.log(currentUser);\n\n  return (\n    <div>\n      <Provider store={store}>\n        <BrowserRouter>\n          <Header currentUser={currentUser} />\n          <Switch>\n            <Route exact path=\"/\" component={Homepage} />\n            <Route exact path=\"/shop\" component={ShopPage} />\n            <Route exact path=\"/signin\" component={SignUpAndSignIn} />\n          </Switch>\n        </BrowserRouter>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}